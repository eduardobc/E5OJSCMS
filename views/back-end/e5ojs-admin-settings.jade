extends e5ojs-base-layout-admin
block e5ojs_block_local_css_script
block e5ojs_block_content
    - var settings = { settings_host_url: "", settings_home_page: "", settings_pages: settings_data.public_pages };
    - if( settings_data.current_settings !== null ) {
        - settings.settings_host_url = settings_data.current_settings.settings_host_url;
        - settings.settings_home_page = settings_data.current_settings.settings_home_page;
    - }
    
    form(id="e5ojs-form-wrapper" action=e5ojs_global_data.admin_pages.settings.url method="post")
        div(class="row no-padding")
            div(class="col-xs-12 no-padding")
                div(class="card")
                    div(class="card-content")
                        span(class="card-title")='Site settings'
                        div(class="input-field")
                            input(id="settings_host_url" type="text" class="validate" name="settings_host_url" value=settings.settings_host_url)
                            label(for="settings_host_url")='Host URL'
                        div(class="input-field")
                            select(name="settings_home_page")
                                option(value="")="Choose the default Home page"
                                - for( key_page in settings.settings_pages ) {
                                    - var page = settings.settings_pages[key_page];
                                    - attributes = "";
                                    - if( settings.settings_home_page == page.page_id ) {
                                        - attributes = {"selected":"selected"};
                                    - }
                                    option(value=page.page_id)&attributes(attributes)=page.page_title
                                - }
                            label(for="settings_home_page")='Home page template'
                        div(class="aling-right")
                            button( type="submit" class="waves-effect waves-dark btn")='SAVE'
                
